function computeCostAndBuildResponse(a,j){const d=a.rows[0].elements[0];if(d.status==="OK"){const g=parseInt(d.distance.text.replace(/,/g,"").split(" ")[0],10),h=d.duration.text,e=parseInt(document.getElementById("mpg").value,10);if(e<=0){alert("Please enter a valid MPG.");return}const f=parseInt(document.getElementById("gallon-cost").value,10);if(f<=0){alert("Please enter a valid gas price.");return}let b=g/e*f;b=b<1?1:b.toFixed(0);const c=document.createElement("div"),k=document.createElement("h4"),l=`Your trip will use approximately $${b} worth of gas and should take about ${h}.`,i=document.getElementById("result");i&&i.parentNode.removeChild(i),c.className="alert alert-success",c.id="result",c.style.width="70%",c.style.margin="auto",c.style.marginTop="13px",k.textContent=l,document.getElementById("compute-div").appendChild(c),document.getElementById("result").appendChild(k)}else alert("Sorry there has been an error."),console.log(`error message: ${j}`)}function calcDistance(){const a=new google.maps.DistanceMatrixService();a.getDistanceMatrix({origins:[document.getElementById("origin").value],destinations:[document.getElementById("destination").value],travelMode:"DRIVING",unitSystem:google.maps.UnitSystem.IMPERIAL,avoidHighways:!1,avoidTolls:!1},computeCostAndBuildResponse)}function initMap(){const a=new google.maps.DirectionsRenderer(),j=new google.maps.places.Autocomplete(document.getElementById("origin")),d=new google.maps.places.Autocomplete(document.getElementById("destination")),g=new google.maps.DirectionsService(),h=new google.maps.Map(document.getElementById("map"),{center:{lat:39.956813,lng:-102.011721},zoom:3});a.setMap(h),google.maps.event.addListener(d,"place_changed",()=>{const e={origin:document.getElementById("origin").value,destination:document.getElementById("destination").value,travelMode:"DRIVING"};g.route(e,(f,b)=>{b==="OK"?a.setDirections(f):alert("Sorry, there was an error, please try again.")})}),document.getElementById("compute-btn").addEventListener("click",calcDistance)}
